---
---

<section id="contact" class="section-contact">
  <div class="container">
    <h2 class="section-title">Bookings</h2>
    
    <div class="contact-wrapper glass-panel">
      <div class="contact-info">
        <p>Contractació, col·laboracions, esdeveniments privats</p>
      </div>

      <form class="contact-form" id="form">
        <input type="hidden" name="access_key" value="a2ba8d4d-9302-4929-a576-bf79e2c7552c" />
        <input type="hidden" name="subject" value="Nou missatge de Nitro Web" />
        <input type="checkbox" name="botcheck" class="hidden" style="display: none;" />

        <div class="form-group">
          <input type="text" name="name" placeholder="Nom" required />
        </div>
        <div class="form-group">
          <input type="email" name="email" placeholder="Email" required />
        </div>
        <div class="form-group">
          <textarea name="message" placeholder="Missatge" rows="4" required></textarea>
        </div>
        <button type="submit" class="btn">Enviar Missatge</button>
        <div id="result" class="result-message"></div>
      </form>
    </div>
  </div>
</section>

<script is:inline>
  const form = document.getElementById('form');
  const result = document.getElementById('result');

  form.addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(form);
    const object = Object.fromEntries(formData);
    const json = JSON.stringify(object);

    result.innerHTML = "Enviant...";
    result.style.color = "var(--color-text)";
    result.style.display = "block";

    fetch('https://api.web3forms.com/submit', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            },
            body: json
        })
        .then(async (response) => {
            let json = await response.json();
            if (response.status == 200) {
                form.style.display = "none";
                result.innerHTML = "<div class='success-msg'><span style='font-size:3rem;'>✅</span><h3>Missatge enviat!</h3><p>Gràcies per contactar. Et respondrem el més aviat possible.</p></div>";
                result.style.color = "#00ff88";
                result.style.textAlign = "center";
                result.style.padding = "2rem 0";
            } else {
                result.innerHTML = json.message || "Hi ha hagut un error.";
                result.style.color = "#ff0055";
            }
        })
        .catch(error => {
            console.log(error);
            result.innerHTML = "Hi ha hagut un error de connexió.";
            result.style.color = "#ff0055";
        });
  });
</script>

<style>
  .section-contact {
    padding: 8rem 0;
    padding-bottom: 12rem; /* Extra space at bottom */
  }

  .contact-wrapper {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    max-width: 600px;
    margin: 0 auto;
    text-align: center;
  }

  .contact-info h3 {
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .contact-info p {
    margin-bottom: 2rem;
    color: rgba(255,255,255,0.7);
  }

  .contact-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    width: 100%;
    text-align: left;
  }

  .form-group input,
  .form-group textarea,
  .form-group select {
    width: 100%;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: white;
    font-family: var(--font-main);
    font-size: 1rem;
    transition: border-color 0.3s;
  }

  .form-group input:focus,
  .form-group textarea:focus,
  .form-group select:focus {
    outline: none;
    border-color: var(--color-primary);
    background: rgba(255, 255, 255, 0.1);
  }


</style>
